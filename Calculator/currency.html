<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter</title>
</head>

<body>
    <h2>Currency Converter</h2>
    <label for="from">From:</label>
    <input type="number" id="fromAmount" placeholder="Enter amount">
    <select id="fromCurrency">
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="GBP">GBP</option>
        <!-- Add more options as needed -->
    </select>
    <br>
    <label for="to">To:</label>
    <input type="text" id="toAmount" disabled>
    <select id="toCurrency">
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="GBP">GBP</option>
        <!-- Add more options as needed -->
    </select>
    <br>
    <button onclick="convertCurrency()">Convert</button>

    <script>
        async function convertCurrency() {
            const fromAmount = document.getElementById("fromAmount").value;
            const fromCurrency = document.getElementById("fromCurrency").value;
            const toCurrency = document.getElementById("toCurrency").value;
            var myHeaders = new Headers();

            myHeaders.append("apikey", "nsdHbf7QzmgY0GbPovomxrXYvQqiFU2P");

            var requestOptions = {
                method: 'GET',
                redirect: 'follow',
                headers: myHeaders
            };

            const response = await fetch(`https://api.apilayer.com/exchangerates_data/live?base=${fromCurrency}&symbols=${toCurrency}`, requestOptions);

            const data = await response.json();
            const rate = data.rates[toCurrency];
            const convertedAmount = fromAmount * rate;

            document.getElementById("toAmount").value = convertedAmount.toFixed(2); // Display only 2 decimal places
        }
    </script>
</body>

</html>